import matplotlib.pyplot as plt
import numpy as np
# train_accracy曲线三类实验合并绘制
def draw_train_accuracy_lines(train_accuracy_148nodes, train_accuracy_56_scale1, train_accuracy_56_random, train_accuracy_56_select):
    epochs = [i+1 for i in range(len(train_accuracy_148nodes))]  # 假设epochs从1到5
    plt.figure(dpi=600)

    # 绘制曲线
    plt.plot(epochs, train_accuracy_148nodes,  color='blue', label='All(148)')
    # plt.plot(epochs, train_accuracy_56_scale1, color='blue', label='56 Scale-1 Nodes')
    plt.plot(epochs, train_accuracy_56_random, color='green', label='Random(56)')
    plt.plot(epochs, train_accuracy_56_select, color='red', label='KBRs(56)')

    # 添加标签和标题
    plt.xlabel('Epoch')
    plt.ylabel('Train Accuracy')
    plt.title('Train Accuracy Comparison')

    # 添加图例
    plt.legend()

    # 显示图形
    plt.show()

# test_accracy曲线三类实验合并绘制
def draw_test_accuracy_lines(test_accuracy_148nodes, test_accuracy_56_scale1, test_accuracy_56_random, test_accuracy_56_select):
    epochs = [i+1 for i in range(len(test_accuracy_148nodes))] #
    plt.figure(dpi=600)
    # 绘制曲线
    plt.plot(epochs, test_accuracy_148nodes,  color='blue', label='All(148)')
    # plt.plot(epochs, test_accuracy_56_scale1, color='blue', label='56 Scale-1 Nodes')
    plt.plot(epochs, test_accuracy_56_random, color='green', label='Random(56)')
    plt.plot(epochs, test_accuracy_56_select, color='red', label='KBRs(56)')

    # 添加标签和标题
    plt.xlabel('Epoch')
    plt.ylabel('Test Accuracy')
    plt.title('Test Accuracy Comparison')

    # 添加图例
    plt.legend()

    # 显示图形
    plt.show()

if __name__ == "__main__":
    # train_accracy曲线三类实验合并绘制
    train_accuracy_148 = [0.17647058823529413, 0.24789915966386555, 0.296218487394958, 0.3592436974789916,
                          0.47689075630252103, 0.542016806722689, 0.592436974789916, 0.7226890756302521,
                          0.7836134453781513, 0.8382352941176471, 0.8151260504201681, 0.8991596638655462,
                          0.9117647058823529, 0.9138655462184874, 0.9411764705882353, 0.9537815126050421,
                          0.9411764705882353, 0.9621848739495799, 0.9516806722689075, 0.9621848739495799,
                          0.957983193277311, 0.957983193277311, 0.9600840336134454, 0.9201680672268907,
                          0.9789915966386554, 0.9852941176470589, 0.957983193277311, 0.9726890756302521,
                          0.9705882352941176, 0.9810924369747899, 0.9873949579831933, 0.976890756302521,
                          0.9810924369747899, 0.9852941176470589, 0.9558823529411765, 0.976890756302521,
                          0.9873949579831933, 0.9747899159663865, 0.9915966386554622, 0.9957983193277311,
                          0.9978991596638656, 0.9978991596638656, 0.9978991596638656, 0.9978991596638656,
                          0.9978991596638656, 0.9978991596638656, 0.9978991596638656, 0.9978991596638656,
                          0.9957983193277311, 0.9600840336134454, 0.9159663865546218, 0.9915966386554622,
                          0.9537815126050421, 0.930672268907563, 0.9558823529411765, 0.9936974789915967,
                          0.9873949579831933, 0.9936974789915967, 0.9957983193277311, 0.9915966386554622,
                          0.976890756302521, 0.9894957983193278, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                          1.0, 1.0, 1.0, 0.9810924369747899, 0.9873949579831933, 0.9810924369747899, 0.957983193277311,
                          0.8928571428571429, 0.9642857142857143, 0.9705882352941176, 0.9600840336134454,
                          0.9831932773109243, 0.9663865546218487, 0.9810924369747899, 0.9936974789915967, 1.0,
                          0.9957983193277311, 1.0, 1.0, 1.0, 1.0, 0.9978991596638656, 0.9873949579831933,
                          0.9831932773109243, 0.9915966386554622, 1.0, 1.0]
    train_accuracy_56 = [0.296218487394958, 0.4054621848739496, 0.5021008403361344, 0.5945378151260504,
                         0.6890756302521008, 0.7563025210084033, 0.8256302521008403, 0.884453781512605,
                         0.8886554621848739, 0.9348739495798319, 0.9201680672268907, 0.9747899159663865,
                         0.9747899159663865, 0.9894957983193278, 0.9789915966386554, 0.9621848739495799,
                         0.9516806722689075, 0.9852941176470589, 0.976890756302521, 0.976890756302521,
                         0.9894957983193278, 0.9978991596638656, 0.976890756302521, 0.9705882352941176,
                         0.9957983193277311, 0.9831932773109243, 0.9894957983193278, 0.9873949579831933,
                         0.9873949579831933, 0.9831932773109243, 0.9873949579831933, 0.9915966386554622,
                         0.9873949579831933, 1.0, 0.9915966386554622, 1.0, 0.976890756302521, 1.0, 1.0, 1.0, 1.0, 1.0,
                         1.0, 1.0, 1.0, 1.0, 1.0, 0.9957983193277311, 0.9747899159663865, 0.9726890756302521,
                         0.957983193277311, 0.9642857142857143, 0.9852941176470589, 0.9936974789915967,
                         0.9957983193277311, 0.9978991596638656, 0.9978991596638656, 0.9957983193277311,
                         0.9915966386554622, 0.9936974789915967, 0.9936974789915967, 0.9915966386554622, 1.0, 1.0, 1.0,
                         1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                         1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9390756302521008, 0.907563025210084,
                         0.9684873949579832, 0.9810924369747899, 0.9936974789915967]
    train_accuracy_56_r = [0.15126050420168066, 0.2605042016806723, 0.32983193277310924, 0.37815126050420167,
                           0.4474789915966387, 0.5441176470588235, 0.6008403361344538, 0.6071428571428571, 0.75,
                           0.7668067226890757, 0.7878151260504201, 0.8445378151260504, 0.8970588235294118,
                           0.9033613445378151, 0.9138655462184874, 0.9390756302521008, 0.9432773109243697,
                           0.9663865546218487, 0.9852941176470589, 0.9852941176470589, 1.0, 1.0, 1.0,
                           0.9978991596638656, 0.9978991596638656, 0.9978991596638656, 0.9957983193277311, 1.0, 1.0,
                           1.0, 0.9978991596638656, 1.0, 0.9978991596638656, 0.9600840336134454, 0.9621848739495799,
                           0.9285714285714286, 0.9810924369747899, 0.976890756302521, 0.9810924369747899,
                           0.9831932773109243, 0.9915966386554622, 0.9852941176470589, 0.9915966386554622,
                           0.9852941176470589, 0.9831932773109243, 0.9957983193277311, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                           1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                           1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                           0.9978991596638656, 0.8256302521008403, 0.8718487394957983, 0.9474789915966386,
                           0.9684873949579832, 0.9978991596638656, 0.9978991596638656, 1.0, 1.0, 1.0, 1.0, 1.0]
    train_accuracy_56_select = [0.2647058823529412, 0.4117647058823529, 0.5210084033613446, 0.615546218487395, 0.6974789915966386, 0.773109243697479, 0.8172268907563025, 0.8781512605042017, 0.9201680672268907, 0.9411764705882353, 0.9558823529411765, 0.9432773109243697, 0.9474789915966386, 0.9600840336134454, 0.9726890756302521, 0.9936974789915967, 0.9957983193277311, 0.9957983193277311, 0.9957983193277311, 0.9894957983193278, 1.0, 1.0, 0.9873949579831933, 1.0, 0.9978991596638656, 0.9474789915966386, 0.9390756302521008, 0.9684873949579832, 0.9852941176470589, 0.9663865546218487, 0.9936974789915967, 0.9894957983193278, 0.9978991596638656, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9957983193277311, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9978991596638656, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9327731092436975, 0.8781512605042017, 0.9453781512605042, 0.9894957983193278, 0.9915966386554622, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9957983193277311, 0.9285714285714286, 0.9243697478991597, 0.976890756302521, 0.9831932773109243]

    draw_train_accuracy_lines(train_accuracy_148, train_accuracy_56, train_accuracy_56_r, train_accuracy_56_select)

    # test_accracy曲线三类实验合并绘制
    test_accuracy_148 = [0.19047619047619047, 0.21428571428571427, 0.3, 0.36666666666666664, 0.4238095238095238,
                         0.4666666666666667, 0.5333333333333333, 0.6095238095238096, 0.6523809523809524,
                         0.6095238095238096, 0.6904761904761905, 0.6714285714285714, 0.7571428571428571,
                         0.7619047619047619, 0.7571428571428571, 0.8095238095238095, 0.7666666666666667,
                         0.7380952380952381, 0.7714285714285715, 0.7952380952380952, 0.8238095238095238,
                         0.7952380952380952, 0.7761904761904762, 0.8095238095238095, 0.8095238095238095,
                         0.7714285714285715, 0.8095238095238095, 0.7857142857142857, 0.8523809523809524,
                         0.8428571428571429, 0.819047619047619, 0.8142857142857143, 0.8571428571428571,
                         0.780952380952381, 0.819047619047619, 0.8095238095238095, 0.8428571428571429,
                         0.8428571428571429, 0.8285714285714286, 0.8047619047619048, 0.8380952380952381,
                         0.8523809523809524, 0.8428571428571429, 0.8380952380952381, 0.8380952380952381,
                         0.8380952380952381, 0.8476190476190476, 0.8238095238095238, 0.8476190476190476,
                         0.7285714285714285, 0.8142857142857143, 0.8333333333333334, 0.7666666666666667,
                         0.7380952380952381, 0.8238095238095238, 0.8285714285714286, 0.8428571428571429,
                         0.8523809523809524, 0.8571428571428571, 0.8571428571428571, 0.819047619047619,
                         0.8523809523809524, 0.8571428571428571, 0.8333333333333334, 0.8523809523809524,
                         0.8523809523809524, 0.8476190476190476, 0.8380952380952381, 0.8523809523809524,
                         0.8428571428571429, 0.8523809523809524, 0.8476190476190476, 0.8476190476190476,
                         0.8428571428571429, 0.8571428571428571, 0.8571428571428571, 0.8142857142857143,
                         0.8428571428571429, 0.8142857142857143, 0.8, 0.8, 0.8238095238095238, 0.8476190476190476,
                         0.861904761904762, 0.8523809523809524, 0.8428571428571429, 0.8142857142857143,
                         0.8333333333333334, 0.8523809523809524, 0.8333333333333334, 0.8523809523809524,
                         0.8523809523809524, 0.8523809523809524, 0.8571428571428571, 0.8428571428571429,
                         0.8238095238095238, 0.8571428571428571, 0.8428571428571429, 0.8333333333333334,
                         0.8380952380952381]
    test_accuracy_56 = [0.3238095238095238, 0.4, 0.47619047619047616, 0.5238095238095238, 0.638095238095238,
                        0.6761904761904762, 0.7428571428571429, 0.7476190476190476, 0.7285714285714285,
                        0.7571428571428571, 0.8095238095238095, 0.8238095238095238, 0.8, 0.8, 0.7571428571428571, 0.8,
                        0.8095238095238095, 0.8, 0.8285714285714286, 0.7904761904761904, 0.8, 0.7571428571428571,
                        0.8285714285714286, 0.8, 0.8428571428571429, 0.8380952380952381, 0.7666666666666667,
                        0.7904761904761904, 0.8428571428571429, 0.8238095238095238, 0.8, 0.8095238095238095,
                        0.8380952380952381, 0.8333333333333334, 0.8238095238095238, 0.8333333333333334,
                        0.8238095238095238, 0.8380952380952381, 0.8476190476190476, 0.8428571428571429,
                        0.8476190476190476, 0.8523809523809524, 0.8380952380952381, 0.8523809523809524,
                        0.8428571428571429, 0.861904761904762, 0.8428571428571429, 0.8428571428571429,
                        0.8095238095238095, 0.8476190476190476, 0.8095238095238095, 0.7904761904761904,
                        0.8523809523809524, 0.8571428571428571, 0.8761904761904762, 0.8666666666666667,
                        0.8714285714285714, 0.8761904761904762, 0.8523809523809524, 0.8571428571428571,
                        0.8380952380952381, 0.8333333333333334, 0.861904761904762, 0.8714285714285714,
                        0.8904761904761904, 0.8666666666666667, 0.8666666666666667, 0.8857142857142857,
                        0.8857142857142857, 0.8714285714285714, 0.8857142857142857, 0.8809523809523809,
                        0.8809523809523809, 0.8809523809523809, 0.861904761904762, 0.8666666666666667,
                        0.8666666666666667, 0.861904761904762, 0.8523809523809524, 0.8523809523809524,
                        0.8428571428571429, 0.8571428571428571, 0.8666666666666667, 0.8809523809523809,
                        0.8761904761904762, 0.8666666666666667, 0.8571428571428571, 0.8666666666666667,
                        0.8666666666666667, 0.8714285714285714, 0.8666666666666667, 0.8476190476190476,
                        0.8571428571428571, 0.8476190476190476, 0.8714285714285714, 0.8333333333333334, 0.8,
                        0.8428571428571429, 0.8666666666666667, 0.8333333333333334]
    test_accuracy_56_r = [0.2, 0.21428571428571427, 0.2619047619047619, 0.2714285714285714, 0.3476190476190476,
                          0.3619047619047619, 0.42857142857142855, 0.4523809523809524, 0.4857142857142857,
                          0.5047619047619047, 0.6, 0.5285714285714286, 0.5666666666666667, 0.580952380952381,
                          0.5428571428571428, 0.5523809523809524, 0.6476190476190476, 0.6, 0.6428571428571429,
                          0.6190476190476191, 0.6142857142857143, 0.6238095238095238, 0.638095238095238,
                          0.638095238095238, 0.6571428571428571, 0.6333333333333333, 0.6238095238095238,
                          0.6190476190476191, 0.6523809523809524, 0.6190476190476191, 0.6285714285714286,
                          0.6476190476190476, 0.6285714285714286, 0.6285714285714286, 0.6238095238095238,
                          0.638095238095238, 0.6142857142857143, 0.6523809523809524, 0.5761904761904761,
                          0.6095238095238096, 0.6238095238095238, 0.6190476190476191, 0.6190476190476191,
                          0.6238095238095238, 0.6190476190476191, 0.6619047619047619, 0.6476190476190476,
                          0.6476190476190476, 0.6714285714285714, 0.680952380952381, 0.6761904761904762,
                          0.6761904761904762, 0.680952380952381, 0.6857142857142857, 0.6619047619047619,
                          0.6714285714285714, 0.6857142857142857, 0.6761904761904762, 0.6761904761904762,
                          0.6761904761904762, 0.6761904761904762, 0.6761904761904762, 0.6571428571428571,
                          0.6666666666666666, 0.6714285714285714, 0.6523809523809524, 0.6571428571428571,
                          0.6523809523809524, 0.6857142857142857, 0.6714285714285714, 0.6761904761904762,
                          0.680952380952381, 0.6761904761904762, 0.680952380952381, 0.6761904761904762,
                          0.680952380952381, 0.680952380952381, 0.6714285714285714, 0.6761904761904762,
                          0.6714285714285714, 0.6761904761904762, 0.6666666666666666, 0.6761904761904762,
                          0.6857142857142857, 0.6666666666666666, 0.6952380952380952, 0.6857142857142857,
                          0.6857142857142857, 0.6523809523809524, 0.5714285714285714, 0.5428571428571428,
                          0.6571428571428571, 0.6571428571428571, 0.6619047619047619, 0.6761904761904762,
                          0.7047619047619048, 0.7095238095238096, 0.7, 0.6857142857142857, 0.680952380952381]
    test_accuracy_56_select = [0.3380952380952381, 0.44761904761904764, 0.5142857142857142, 0.5523809523809524, 0.6095238095238096, 0.680952380952381, 0.680952380952381, 0.7476190476190476, 0.7476190476190476, 0.7952380952380952, 0.780952380952381, 0.7714285714285715, 0.8047619047619048, 0.8, 0.8095238095238095, 0.819047619047619, 0.8238095238095238, 0.8380952380952381, 0.8285714285714286, 0.8285714285714286, 0.8380952380952381, 0.8428571428571429, 0.8095238095238095, 0.8333333333333334, 0.8380952380952381, 0.8238095238095238, 0.8142857142857143, 0.819047619047619, 0.8142857142857143, 0.780952380952381, 0.861904761904762, 0.861904761904762, 0.8380952380952381, 0.8714285714285714, 0.8666666666666667, 0.8761904761904762, 0.8809523809523809, 0.8857142857142857, 0.8666666666666667, 0.8666666666666667, 0.8857142857142857, 0.8904761904761904, 0.8904761904761904, 0.8714285714285714, 0.8714285714285714, 0.8761904761904762, 0.8761904761904762, 0.8857142857142857, 0.8904761904761904, 0.8809523809523809, 0.8809523809523809, 0.8857142857142857, 0.8809523809523809, 0.8904761904761904, 0.8809523809523809, 0.8761904761904762, 0.8809523809523809, 0.9, 0.8809523809523809, 0.8857142857142857, 0.8952380952380953, 0.8952380952380953, 0.8904761904761904, 0.8571428571428571, 0.7, 0.8476190476190476, 0.861904761904762, 0.8428571428571429, 0.8904761904761904, 0.8857142857142857, 0.8666666666666667, 0.8714285714285714, 0.8952380952380953, 0.8761904761904762, 0.8809523809523809, 0.8761904761904762, 0.8857142857142857, 0.8761904761904762, 0.8857142857142857, 0.8809523809523809, 0.8857142857142857, 0.8857142857142857, 0.8761904761904762, 0.8761904761904762, 0.8904761904761904, 0.8857142857142857, 0.9, 0.8857142857142857, 0.8904761904761904, 0.8857142857142857, 0.8857142857142857, 0.8857142857142857, 0.8904761904761904, 0.8904761904761904, 0.9, 0.8761904761904762, 0.7714285714285715, 0.8571428571428571, 0.8666666666666667, 0.8904761904761904]

    draw_test_accuracy_lines(test_accuracy_148, test_accuracy_56, test_accuracy_56_r, test_accuracy_56_select)

    # accracy / precision / recall 绘制三个条形图对比
    accuracy_148 = 0.8428571428571429
    accuracy_56  = 0.861904761904762
    accuracy_56_r= 0.6428571428571429
    accuracy_56_select = 0.8904761904761904

    precision_148 = 0.8508261455073712
    precision_56  = 0.8764985949067295
    precision_56_r= 0.648742202679723
    precision_56_select = 0.8981244872500973

    recall_148 = 0.8428571428571429
    recall_56  = 0.861904761904762
    recall_56_r= 0.6238095238095238
    recall_56_select = 0.8904761904761904


    accuracy_56 = accuracy_56_select
    precision_56 = precision_56_select
    recall_56 = recall_56_select

    import numpy as np
    import matplotlib.pyplot as plt

    # 数据
    categories = ['Accuracy', 'Precision', 'Recall']
    node_labels = ['All(148)', 'KBRs(56)', 'Random(56)']
    values = [
        [accuracy_148, precision_148, recall_148],
        [accuracy_56, precision_56, recall_56],
        [accuracy_56_r, precision_56_r, recall_56_r]
    ]

    # 颜色
    colors = ['#B4CBD0', '#D0B4BD', '#BDD0B4']

    # 调整条形图的宽度和子图的大小
    bar_width = 0.2  # 设置每个条的宽度
    index = np.arange(len(categories))  # 设置条的位置
    fig, ax = plt.subplots(figsize=(6, 6), dpi=600)

    # 绘制条形图
    for i in range(len(node_labels)):
        ax.bar(index + (i - 1) * bar_width, values[i], edgecolor="royalblue", color=colors[i], width=bar_width,
               label=node_labels[i])

    # 添加标签和标题
    ax.set_xlabel('Metrics')
    ax.set_ylabel('Values')
    ax.set_title('Comparison of Metrics for Different Nodes')
    ax.set_xticks(index)
    ax.set_xticklabels(categories)
    ax.legend()
    # 设置y轴刻度间隔
    from matplotlib.ticker import MultipleLocator
    ax.yaxis.set_major_locator(MultipleLocator(0.2))
    ax.grid(axis="y", linestyle='--', linewidth=0.5)

    # 调整布局
    plt.tight_layout()
    plt.show()
