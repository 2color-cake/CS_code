node2 = [133, 59, 101, 27, 69, 100, 131, 147, 19, 67, 57, 93, 130, 132, 142, 56, 143, 141, 88, 104, 58, 2, 125, 60, 134, 128, 112, 68, 76, 116, 26, 110, 137, 114, 111, 129, 51, 120, 87, 73, 94, 95, 90, 32, 102, 42, 124, 85, 11, 46, 103, 49, 144, 99, 105, 86, 21, 127, 30, 106, 121, 7, 146, 113, 63, 89, 28, 50, 135, 145, 20, 29, 126, 123, 61, 71, 5, 22, 139, 10, 31, 37, 40, 119, 140, 138, 36, 54, 14, 91, 65, 108, 84, 78, 79, 118, 82, 45, 107, 122, 39, 80, 44, 72, 62, 23, 83, 52, 38, 3, 48, 4, 96, 12, 15, 98, 115, 66, 13, 43, 8, 74, 53, 24, 81, 109, 9, 70, 92, 77, 75, 97, 25, 16, 34, 1, 136, 148, 47, 6, 41, 35, 17, 64, 55, 33, 18, 117]
node3 = [133, 59, 19, 27, 130, 58, 93, 132, 57, 131, 101, 56, 142, 147, 100, 67, 134, 2, 76, 125, 69, 51, 129, 60, 143, 88, 141, 95, 68, 104, 94, 21, 111, 136, 73, 112, 146, 86, 116, 65, 26, 128, 99, 120, 22, 135, 20, 108, 4, 90, 50, 127, 30, 85, 137, 11, 103, 110, 42, 139, 87, 61, 53, 34, 102, 89, 121, 79, 96, 82, 123, 145, 144, 114, 49, 35, 124, 126, 7, 14, 10, 43, 32, 105, 75, 5, 106, 13, 117, 45, 36, 17, 140, 1, 15, 119, 72, 92, 28, 33, 46, 66, 29, 48, 54, 64, 78, 84, 98, 62, 83, 8, 109, 77, 115, 70, 38, 71, 3, 97, 113, 18, 37, 44, 6, 31, 63, 9, 122, 80, 118, 81, 91, 23, 24, 52, 41, 16, 138, 47, 40, 25, 39, 148, 12, 74, 55, 107]
node4 = [19, 59, 57, 133, 131, 130, 93, 58, 132, 27, 56, 51, 101, 125, 2, 116, 147, 21, 42, 76, 100, 69, 142, 73, 60, 88, 95, 67, 129, 134, 135, 50, 68, 120, 137, 143, 20, 141, 38, 114, 61, 81, 65, 128, 29, 124, 4, 32, 86, 139, 94, 11, 85, 106, 89, 23, 34, 110, 104, 123, 96, 7, 127, 102, 43, 49, 22, 112, 35, 26, 108, 99, 1, 146, 14, 62, 53, 46, 13, 119, 145, 28, 78, 17, 84, 31, 126, 121, 39, 48, 70, 144, 72, 118, 52, 138, 136, 103, 45, 105, 109, 10, 87, 91, 111, 36, 64, 40, 15, 5, 71, 90, 24, 115, 117, 77, 30, 47, 54, 83, 37, 12, 82, 98, 63, 113, 140, 75, 97, 122, 3, 33, 107, 25, 79, 6, 9, 92, 66, 44, 74, 18, 148, 41, 80, 16, 8, 55]
node5 = [57, 131, 59, 133, 51, 116, 19, 2, 130, 93, 125, 76, 132, 58, 42, 21, 147, 27, 56, 73, 134, 142, 88, 120, 100, 137, 65, 95, 60, 101, 69, 86, 135, 67, 138, 20, 105, 128, 129, 68, 87, 77, 81, 127, 91, 143, 90, 141, 124, 34, 26, 53, 31, 49, 106, 15, 43, 139, 89, 94, 3, 119, 13, 99, 70, 11, 102, 22, 108, 82, 103, 98, 110, 121, 1, 35, 38, 28, 50, 4, 7, 14, 46, 145, 115, 104, 29, 112, 85, 44, 62, 78, 32, 123, 52, 96, 114, 54, 113, 40, 84, 48, 36, 61, 30, 6, 144, 75, 97, 23, 136, 10, 17, 126, 117, 45, 18, 118, 79, 74, 41, 111, 146, 8, 83, 5, 107, 80, 25, 12, 47, 122, 16, 39, 148, 71, 140, 24, 55, 66, 33, 92, 63, 72, 109, 9, 37, 64]
node6 = [131, 57, 51, 59, 130, 132, 116, 133, 2, 19, 42, 125, 93, 56, 76, 27, 58, 147, 21, 100, 68, 95, 73, 142, 101, 134, 69, 88, 135, 129, 65, 22, 67, 137, 60, 120, 85, 104, 26, 7, 138, 86, 44, 96, 141, 143, 20, 139, 105, 118, 89, 127, 126, 11, 52, 31, 50, 128, 98, 49, 110, 106, 99, 90, 81, 77, 87, 102, 94, 114, 34, 145, 53, 70, 14, 84, 75, 108, 43, 36, 91, 30, 124, 38, 15, 62, 103, 46, 136, 78, 112, 54, 1, 35, 140, 123, 25, 144, 32, 12, 23, 37, 61, 115, 119, 92, 29, 10, 121, 45, 3, 40, 72, 146, 113, 148, 4, 24, 79, 13, 6, 16, 63, 71, 80, 82, 107, 5, 111, 122, 9, 18, 109, 17, 83, 28, 74, 39, 41, 66, 48, 117, 55, 33, 64, 47, 97, 8]
node7 = [130, 57, 51, 56, 116, 131, 27, 125, 42, 76, 2, 59, 58, 133, 132, 19, 21, 95, 93, 142, 101, 147, 68, 100, 135, 73, 67, 129, 69, 88, 134, 85, 65, 96, 139, 22, 86, 143, 60, 137, 127, 11, 118, 141, 114, 99, 110, 104, 128, 81, 44, 20, 7, 89, 26, 120, 46, 102, 43, 38, 103, 94, 52, 77, 25, 106, 108, 145, 14, 30, 123, 112, 15, 138, 144, 84, 40, 124, 31, 105, 50, 29, 90, 3, 115, 54, 121, 146, 78, 62, 34, 136, 32, 126, 49, 61, 53, 12, 91, 70, 36, 13, 37, 119, 87, 111, 6, 72, 1, 122, 28, 98, 4, 24, 23, 79, 117, 109, 16, 35, 66, 82, 75, 92, 97, 10, 80, 83, 71, 113, 63, 148, 45, 55, 8, 5, 140, 47, 107, 48, 64, 17, 9, 18, 39, 74, 33, 41]

# 返回并集，交集和差集
def union_intersection_div(classes):
    if classes == 2:
        u = [2, 11, 15, 16, 19, 21, 26, 27, 28, 29, 45, 56, 58, 67, 69, 73, 85, 89, 90, 93, 94, 95, 100, 101, 102, 103, 104, 116, 119, 126, 127, 128, 130, 132, 141, 142, 147]
        i = [15, 16, 19, 26, 27, 28, 29, 56, 67, 89, 90, 93, 100, 101, 102, 103, 104, 126, 128, 130, 141, 142, 147]
        d = [2, 132, 69, 73, 11, 45, 116, 21, 85, 119, 58, 127, 94, 95]
    elif classes == 3:
        u = [2, 6, 7, 11, 15, 16, 19, 21, 25, 26, 27, 28, 29, 30, 45, 53, 54, 56, 58, 65, 67, 69, 73, 80, 81, 85, 89, 90, 93, 94, 95, 99, 100, 101, 102, 103, 104, 116, 119, 126, 127, 128, 130, 132, 139, 141, 142, 147]
        i = [15, 16, 19, 26, 27, 28, 29, 56, 67, 89, 90, 101, 103, 104, 126, 128, 130]
        d = [2, 132, 6, 7, 11, 139, 141, 142, 147, 21, 25, 30, 45, 53, 54, 58, 65, 69, 73, 80, 81, 85, 93, 94, 95, 99, 100, 102, 116, 119, 127]
    elif classes == 4:
        u = [2, 6, 7, 11, 15, 16, 19, 20, 21, 25, 26, 27, 28, 29, 30, 45, 52, 53, 54, 56, 58, 65, 67, 69, 73, 80, 81, 85, 89, 90, 93, 94, 95, 99, 100, 101, 102, 103, 104, 116, 119, 126, 127, 128, 130, 132, 139, 141, 142, 147]
        i = [15, 16, 19, 26, 27, 28, 29, 56, 67, 89, 90, 101, 103, 104, 126, 128, 130]
        d = [2, 132, 6, 7, 11, 139, 141, 142, 147, 20, 21, 25, 30, 45, 52, 53, 54, 58, 65, 69, 73, 80, 81, 85, 93, 94, 95, 99, 100, 102, 116, 119, 127]
    elif classes == 5:
        u = [2, 6, 7, 11, 15, 16, 19, 20, 21, 22, 25, 26, 27, 28, 29, 30, 45, 52, 53, 54, 56, 58, 65, 67, 69, 73, 80, 81, 85, 89, 90, 93, 94, 95, 99, 100, 101, 102, 103, 104, 116, 119, 126, 127, 128, 130, 132, 139, 141, 142, 147]
        i = [15, 16, 19, 26, 27, 28, 29, 56, 67, 89, 90, 101, 103, 104, 126, 128, 130]
        d = [2, 132, 6, 7, 11, 139, 141, 142, 147, 20, 21, 22, 25, 30, 45, 52, 53, 54, 58, 65, 69, 73, 80, 81, 85, 93, 94, 95, 99, 100, 102, 116, 119, 127]
    else:
        u = [2, 6, 7, 11, 15, 16, 19, 20, 21, 22, 25, 26, 27, 28, 29, 30, 44, 45, 52, 53, 54, 56, 58, 65, 67, 68, 69, 73, 80, 81, 85, 89, 90, 93, 94, 95, 99, 100, 101, 102, 103, 104, 116, 119, 126, 127, 128, 130, 132, 139, 141, 142, 147]
        i = [15, 16, 19, 27, 28, 29, 56, 67, 89, 90, 101, 103, 126, 128, 130]
        d = [2, 132, 6, 7, 11, 139, 141, 142, 147, 20, 21, 22, 25, 26, 30, 44, 45, 52, 53, 54, 58, 65, 68, 69, 73, 80, 81, 85, 93, 94, 95, 99, 100, 102, 104, 116, 119, 127]
    return u, i, d

def compare_single_task(classes, topn = 56):
    node = eval(f"node{classes}")
    node = node[:topn]

    u, i, d = union_intersection_div(classes)
    # node = node[:len(u)]     # 跟每次的Scale-1 union保持一致
    print("####class = ", classes)
    print("union: ", len(set(node).intersection(u)), " / ", len(u))
    print("intersection: ", len(set(node).intersection(i)), " / ", len(i))
    print("div:", len(set(node).intersection(d)), " / ", len(d))

# for i in range(2, 8):
#     compare_single_task(i)
#     print()

# adj
a = [129, 2, 130, 131, 132, 133, 134, 135, 137, 11, 139, 141, 142, 143, 145, 19, 20, 21, 22, 147, 27, 38, 42, 44, 46, 51, 56, 57, 58, 59, 60, 65, 67, 68, 69, 73, 76, 85, 86, 88, 93, 94, 95, 96, 99, 100, 101, 102, 108, 116, 118, 120, 125, 127, 128]
print(len(set(a).intersection(node7[:56])))
# fc
a = [3, 7, 8, 139, 12, 141, 15, 16, 143, 19, 147, 25, 26, 27, 28, 29, 30, 44, 45, 46, 49, 52, 53, 54, 65, 67, 69, 73, 80, 81, 86, 88, 89, 90, 94, 99, 101, 102, 103, 104, 112, 119, 126, 127, 128]
print(len(set(a).intersection(node7[:56])))
print("/", len(a))
# sc
a = [129, 66, 10, 106, 140, 144, 114, 84, 55, 32]
print(len(set(a).intersection(node7[:56])))
print("/", len(a))
